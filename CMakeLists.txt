set(COMPONENT_SRCDIRS "src" "src/utility" "src/Fonts")
set(COMPONENT_ADD_INCLUDEDIRS "src" "$ENV{IDF_PATH}/components/bt/host/bluedroid/api/include/api")
list(APPEND COMPONENT_REQUIRES "arduino")


register_component()


set(DEFINITIONS "ESP32")

if (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK")
endif (CONFIG_M5STACK_BASIC OR CONFIG_M5STACK_GRAY OR CONFIG_M5STACK_FIRE)

if(CONFIG_M5STACK_FIRE)
    list(APPEND DEFINITIONS "M5STACK_FIRE")
endif(CONFIG_M5STACK_FIRE)

target_compile_options(${COMPONENT_TARGET} PUBLIC -DARDUINO_M5Stack_Core_ESP32 -Wno-error=unused-const-variable)
target_compile_definitions(${COMPONENT_TARGET} PUBLIC ${DEFINITIONS})
set_property(TARGET ${COMPONENT_LIB} APPEND PROPERTY LINK_INTERFACE_MULTIPLICITY 3)

